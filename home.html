<!-- 主页模板 -->
<link rel="stylesheet" href="https://cdn.staticfile.org/bootstrap/5.2.3/css/bootstrap.min.css">
<style>
    .apee-wodemo-main~* {
        display: none !important;
    }

    a[role="button"] {
        text-decoration: none;
    }

    .nav-hide {
        display: none;
    }
</style>
<div class="apee-wodemo-main">
    <nav class="navbar navbar-dark navbar-expand bg-success shadow-sm sticky-top">
        <div class="container">
            <a class="navbar-brand" href="/">鹏优创 2023</a>
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/">主页</a>
                    </li>
                    <li class="nav-item publish nav-hide">
                        <a class="nav-link" href="https://s.wodemo.com/admin/site/compose">发布文章</a>
                    </li>
                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item login nav-hide">
                        <a class="nav-link">登录</a>
                    </li>
                    <li class="nav-item admin nav-hide">
                        <a class="nav-link">控制台</a>
                    </li>
                </ul>
            </div>

        </div>
    </nav>
    <div class="container py-4">
        <div style="display: none;">
            {wo.site.entries}
        </div>
        <div class="row article-list">

        </div>
    </div>
</div>
<script>
    window.onload = function () {
        const ele_ul = document.querySelector('ul.wo-entry-list')
        const eles_li = ele_ul.querySelectorAll('li')
        const ele_list = document.querySelector('.article-list')
        let html = ''
        eles_li.forEach(ele_li => {
            const data = ele_li.innerText.split('\n')
            const title = data[0]
            const timeStr = data[1]
            const url = data[2]
            html += `
        <div class="col-md-6 col-lg-4 mb-3">
            <a class="card card-body shadow-sm h-100" role="button" href="${url}">
                <h5>${title}</h5>
                <div>${timeStr}</div>
            </a>
        </div>
        `
        })
        ele_list.innerHTML = html
        document.body.ondragstart = () => { return false }
        const ele_loginA = document.querySelector('.apee-wodemo-main~a[href*="/login"]')
        if (ele_loginA) {
            const ele_btnLogin = document.querySelector('.nav-item.login')
            const ele_btnLoginA = ele_btnLogin.querySelector('a')
            ele_btnLogin.style.display = 'inline-block'
            ele_btnLoginA.setAttribute('href', ele_loginA.getAttribute('href'))
        }
        const ele_adminA = document.querySelector('.apee-wodemo-main~a[href*="/admin"]')
        if (ele_adminA) {
            const ele_btnAdmin = document.querySelector('.nav-item.admin')
            const ele_btnAdminA = ele_btnAdmin.querySelector('a')
            ele_btnAdmin.style.display = 'inline-block'
            ele_btnAdminA.setAttribute('href', ele_adminA.getAttribute('href'))
            document.querySelector('.nav-item.publish').style.display = 'inline-block'
        }
    }
</script>